<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <!-- –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–∞—Ç</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –≤–∞—à–∏ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="/css/chats.css">
    <link rel="stylesheet" href="/css/chats_mobile.css">
</head>
<body>

<!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<div class="container">

    <!-- –í–µ—Ä—Ö–Ω—è—è —à–∞–ø–∫–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∫–Ω–æ–ø–∫–∞–º–∏ -->
    <header class="main-header">
        <div class="header-buttons left">
            <button id="findUserBtn" class="header-action-btn find-user-btn">–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
        </div>
        <h1>–ß–∞—Ç</h1>
        <div class="header-buttons right">
            <button id="logoutBtn" class="header-action-btn logout-btn">–í—ã–π—Ç–∏</button>
        </div>
    </header>

    <!-- –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ó–∞–≥—Ä—É–∑–∫–∞...") -->
    <div id="status" class="status"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∏ –æ–∫–Ω–æ —á–∞—Ç–∞ -->
    <main class="chat-wrapper">

        <!-- 1. –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ (—Å–ª–µ–≤–∞ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ) -->
        <ul id="chatList" class="chat-list">
            <!-- –°—é–¥–∞ JavaScript –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã <li> –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞ -->
        </ul>

        <!-- 2. –û–∫–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞ (—Å–ø—Ä–∞–≤–∞ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, —Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <section id="chatWindow" class="chat-window hidden">

            <!-- –®–∞–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞ -->
            <div class="chat-window__header">
                <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ -->
                <button class="back-btn" id="backToListBtn">&larr;</button>
                <h2 id="chatTitle">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</h2>
                <div>
                    <button id="attachmentsBtn" class="attachments-btn">üìÑ</button>
                    <!-- –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å" –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ -->
                    <button class="close-btn" id="closeChatBtn">&times;</button>
                </div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π -->
            <div id="messages" class="messages">
                <p class="placeholder">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π...</p>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–≤—å—é –≤–ª–æ–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π -->
            <div id="attachmentPreviewContainer" class="attachment-preview-container"></div>

            <!-- –§–æ—Ä–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è -->
            <form id="messageForm" class="message-form">
                <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ -->
                <input type="file" id="fileInput" hidden multiple>
                <!-- –ö–Ω–æ–ø–∫–∞-—Å–∫—Ä–µ–ø–∫–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ input'–∞ -->
                <button type="button" id="attachFileBtn" class="attach-btn">üìé</button>
                <!-- –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è -->
                <textarea id="messageInput" class="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
                <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
                <button type="submit" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </form>

        </section> <!-- –ö–æ–Ω–µ—Ü .chat-window -->

    </main> <!-- –ö–æ–Ω–µ—Ü .chat-wrapper -->

</div> <!-- –ö–æ–Ω–µ—Ü .container -->


<!-- ========================================================== -->
<!-- ================ –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ============================ -->
<!-- ========================================================== -->

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
<div id="userSearchModal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2>–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
            <button id="closeModalBtn" class="close-btn">&times;</button>
        </div>
        <div id="userListContainer" class="user-list-container">
            <!-- –°—é–¥–∞ JavaScript –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–∏–π –≤ —á–∞—Ç–µ -->
<div id="attachmentsModal" class="modal hidden">
    <div class="modal-content attachments-modal">
        <div class="modal-header">
            <h2>–í–ª–æ–∂–µ–Ω–∏—è –≤ —á–∞—Ç–µ</h2>
            <button id="closeAttachmentsBtn" class="close-btn">&times;</button>
        </div>
        <div class="attachments-tabs">
            <button class="tab-btn active" data-type="IMAGE">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</button>
            <button class="tab-btn" data-type="VIDEO">–í–∏–¥–µ–æ</button>
            <button class="tab-btn" data-type="AUDIO">–ê—É–¥–∏–æ</button>
            <button class="tab-btn" data-type="DOCUMENT">–§–∞–π–ª—ã</button>
        </div>
        <div id="attachmentsContent" class="attachments-content">
            <!-- –°—é–¥–∞ JavaScript –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–ª–æ–∂–µ–Ω–∏—è -->
        </div>
    </div>
</div>


<!-- ========================================================== -->
<!-- ==================== –°–ö–†–ò–ü–¢–´ ============================= -->
<!-- ========================================================== -->

<!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è WebSocket (Stomp.js –∏ SockJS) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.1/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>

<!-- –í–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<script src="/js/apiClient.js"></script> <!-- –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è apiFetch -->
<script src="/js/chats.js"></script>

</body>
</html>